<?xml version="1.0"?>
<launch>

  <arg name="model" default="mkz" />

  <!-- Bring up simulation and spawn the vehicle -->
  <include file="$(find-pkg-share dataspeed_dbw_gazebo)/launch/dataspeed_dbw_gazebo.launch.xml" >
    <arg name="use_camera_control" value="true" />
    <arg name="world_name" value="$(find-pkg-share custom_dbw_sim_examples)/worlds/box_world.world" />
    <arg name="sim_param_file" value="$(find-pkg-share custom_dbw_sim_examples)/yaml/$(var model)_joystick.yaml" />
  </include>

  <!-- Run Dataspeed joystick demo nodes -->
  <arg name="dev" default="/dev/input/js0" />
  <include unless="$(eval '\'$(var model)\'==\'jeep\' or \'$(var model)\'==\'pacifica\'')" file="$(find-pkg-share dbw_ford_joystick_demo)/launch/joystick_demo.launch.xml" >
    <arg name="dev" value="$(var dev)" />
  </include>
  <include if="$(eval '\'$(var model)\'==\'jeep\' or \'$(var model)\'==\'pacifica\'')" file="$(find-pkg-share dbw_fca_joystick_demo)/launch/joystick_demo.launch.xml" >
    <arg name="dev" value="$(var dev)" />
  </include>

  <!-- Run drive-by-wire interface nodes -->
  <include file="$(find-pkg-share custom_dbw_sim_examples)/launch/generic_dbw.launch.xml" >
    <arg name="vehicle_name" value="vehicle" />
    <arg name="vehicle_type" value="$(var model)" />
  </include>

</launch>
